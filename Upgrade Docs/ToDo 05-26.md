**General Plan for BGFX Migration:** Part of [[Phase 1 - Graphics]]

1. **Device/Context Management**
    
    - Implement BGFX initialization, shutdown, and reset logic in [BGFXWrapper](vscode-file://vscode-app/c:/Users/joshu/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html).
    - Replace all device creation, loss, and reset handling with BGFX lifecycle management.
2. **Buffer and Render State Management**
    
    - Replace all vertex/index buffer creation and usage with BGFX buffer APIs.
    - Map DX8 render states to BGFX state flags and pipeline state objects.
    - Remove all DX8-specific buffer locking/unlocking and replace with BGFX update/submit logic.
3. **Texture and Shader Management**
    
    - Replace all texture creation, loading, and binding with BGFX texture APIs.
    - Migrate shader loading, compilation, and binding to BGFX shader system.
    - Update all sampler and texture state logic to BGFX.
4. **Rendering Logic**
    
    - Replace all draw calls (Draw_Triangles, Draw_Primitives, etc) with BGFX submit calls.
    - Update all render pass and frame management to BGFX's view/encoder system.
    - Ensure all render target and viewport logic is BGFX-compatible.
5. **Format and Type Conversion**
    
    - Replace all D3DFORMAT, D3D types, and conversion functions with BGFX or project-native equivalents.
    - Update all color, matrix, and vector math to be compatible with BGFX.
6. **Testing and Integration**
    
    - Test each subsystem (device, buffers, textures, shaders, rendering) in isolation.
    - Integrate subsystems and test full rendering pipeline.
    - Remove all remaining DX8/D3D code and obsolete TODOs.

**Deprioritized/General TODOs:**

- Code optimizations, pointer arithmetic, and non-rendering TODOs can be handled after BGFX migration.

**Next Steps:**

- Triage TODOs by subsystem and begin systematic replacement, starting with device/context and buffer management in [BGFXWrapper](vscode-file://vscode-app/c:/Users/joshu/AppData/Local/Programs/Microsoft%20VS%20Code/resources/app/out/vs/code/electron-sandbox/workbench/workbench.html) and related files.
- For each TODO, remove DX8 code, implement BGFX equivalent, and test.